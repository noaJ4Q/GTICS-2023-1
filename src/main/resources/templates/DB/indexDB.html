<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Base de Datos</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
              crossorigin="anonymous">
        <link rel="stylesheet" th:href="@{/css/indexDB.css}">
    </head>
    <body>

        <!-- NavBar -->
        <nav class="navbar bg-dark navbar-dark navbar-expand">
            <div class="container">
                <a class="navbar-brand" href="/">GTICS</a>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Programas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Frameworks</a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Title -->
        <section id="title">
            <div class="container">
                <h1 class="heading-section">Northwind DB</h1>
            </div>
        </section>

        <!-- Options -->
        <section id="options">
            <div class="container">
                <form th:action="@{/BaseDeDatos/Buscar}" method="get">
                    <!--<label for="jQuery">Usar JQuery</label>
                    <input type="checkbox" name="jQuery" id="jQuery">
                    <label for="table">Tabla</label>
                    <select name="table" id="table">
                        <option value="Shipper">Shipper</option>
                        <option value="Region">Region</option>
                    </select>-->
                    <label>
                        <input class="form-control" type="search" name="search" placeholder="Buscar" id="search-input" th:value="${search != null? search: ''}">
                    </label>
                    <a class="btn btn-danger" th:href="@{/BaseDeDatos}" th:if="${search != null}">Limpiar</a>
                    <input class="btn btn-outline-success" type="submit" value="Buscar">
                </form>
            </div>
        </section>

        <!-- Lists -->
        <section id="lists">
            <div class="container">
                <section class="tableList">
                    <h2>Lista de transportistas</h2>
                    <a class="btn btn-primary px-3" th:href="@{/BaseDeDatos/NuevoTransportista}">Nuevo transportista</a>
                    <table class="shipperTable table table-striped">
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th>Teléfono</th>
                            <th></th>
                            <th></th>
                        </tr>
                        <tr class="shipperRow" th:each="shipper: ${shipperList}">
                            <td th:text="${shipper.id}"></td>
                            <td th:text="${shipper.companyName}"></td>
                            <td th:text="${shipper.phone}"></td>
                            <td>
                                <a class="btn btn-primary" th:href="@{'/BaseDeDatos/EditarTransp?id='+${shipper.id}}">Editar</a>
                            </td>
                            <td>
                                <a class="btn btn-danger" th:href="@{'/BaseDeDatos/Eliminar?id='+${shipper.id}+'&t=transp'}">Eliminar</a>
                            </td>
                        </tr>
                    </table>
                </section>

                <section class="tableList">
                    <h2>Lista de Regiones disponibles</h2>
                    <a class="btn btn-primary px-3" th:href="@{/BaseDeDatos/NuevaRegion}">Nueva Región</a>
                    <table class="regionTable table table-striped">
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th></th>
                            <th></th>
                        </tr>
                        <tr th:each="region: ${regionList}">
                            <td th:text="${region.id}"></td>
                            <td th:text="${region.description}"></td>
                            <td>
                                <a class="btn btn-primary" th:href="@{'/BaseDeDatos/EditarRegion?id='+${region.id}}">Editar</a>
                            </td>
                            <td>
                                <a class="btn btn-danger" th:href="@{'/BaseDeDatos/Eliminar?id='+${region.id}+'&t=region'}">Eliminar</a>
                            </td>
                        </tr>
                    </table>
                </section>
            </div>
        </section>

        <a class="btn btn-outline-primary" th:href="@{/}">Regresar</a>

        <script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
        <script type="text/javascript" th:src="@{/js/indexDB.js}"></script>
    </body>
</html>